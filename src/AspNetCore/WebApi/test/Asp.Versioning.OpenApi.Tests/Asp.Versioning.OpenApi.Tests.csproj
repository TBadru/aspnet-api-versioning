<Project Sdk="Microsoft.NET.Sdk">

 <PropertyGroup>
  <TargetFramework>$(DefaultTargetFramework)</TargetFramework>
  <RootNamespace>Asp.Versioning.OpenApi</RootNamespace>
  <AssemblyTitle>Test API</AssemblyTitle>
  <GenerateDocumentationFile>true</GenerateDocumentationFile>
  <SourceFile>$(BaseIntermediateOutputPath)FilePath.g.cs</SourceFile>
 </PropertyGroup>

 <ItemGroup>
  <ProjectReference Include="..\..\src\Asp.Versioning.OpenApi\Asp.Versioning.OpenApi.csproj" />
 </ItemGroup>

 <ItemGroup>
  <Compile Include="$(SourceFile)" Condition="Exists('$(SourceFile)')" Link="%(Filename)%(Extension)" Visible="false" />
 </ItemGroup>

 <ItemGroup>
   <None Include="Content\**\*.*" CopyToOutputDirectory="Always" />
 </ItemGroup>

 <Target Name="GenerateFilePaths" AfterTargets="BeforeBuild">

  <ItemGroup>
   <Code Include="namespace $(RootNamespace)%3B" />
   <Code Include="%20" />
   <Code Include="/// &lt;summary&gt;Provides file paths generated by the current project. This class was code-generated.&lt;/summary&gt;" />
   <Code Include="internal static class FilePath" />
   <Code Include="{" />
   <Code Include="%20%20%20%20public const string XmlCommentFile = @&quot;$(MSBuildProjectDirectory)\$(OutputPath)$(AssemblyName).xml&quot;%3B" />
   <Code Include="}" />
  </ItemGroup>

  <WriteLinesToFile File="$(SourceFile)" Lines="@(Code)" Overwrite="true" />

  <ItemGroup>
   <Compile Include="$(SourceFile)" Visible="false" />
  </ItemGroup>

 </Target>

</Project>